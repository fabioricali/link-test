import{t as be,e as rt,f as ve,r as W,g as K,j as u,h as ot,k as ke,l as de,m as je,n as it,q as st,$ as at,v as lt,w as nt,x as $,y as dt,z as ft,A as ut,p as we,c as ct,V as pt,d as mt,i as ht,s as yt,a as vt,o as gt}from"../chunks/chunk-7146c98e.js";import{b as xt,a as ye,P as bt}from"../chunks/chunk-938e241e.js";import{n as ge,i as xe,s as Ee,S as kt,b as wt}from"../chunks/chunk-6c53e045.js";import"../chunks/chunk-f80c4b71.js";import"../chunks/chunk-cf010ec4.js";import"../chunks/chunk-93cf0f59.js";var Ae=be({base:"w-px h-px inline-block",variants:{isInline:{true:"inline-block",false:"block"}},defaultVariants:{isInline:!1}}),He=be({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...rt],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),Ct=be({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}});function Tt(a){let c=ve(a,{enabled:typeof a.elementType=="string"}),h;return a.orientation==="vertical"&&(h="vertical"),a.elementType!=="hr"?{separatorProps:{...c,role:"separator","aria-orientation":h}}:{separatorProps:c}}function Mt(a){const{as:c,className:h,orientation:d,...C}=a;let e=c||"hr";e==="hr"&&d==="vertical"&&(e="div");const{separatorProps:w}=Tt({elementType:typeof e=="string"?e:"hr",orientation:d}),g=W.useMemo(()=>Ct({orientation:d,className:h}),[d,h]),x=W.useCallback((p={})=>({className:g,role:"separator","data-orientation":d,...w,...C,...p}),[g,d,w,C]);return{Component:e,getDividerProps:x}}var Fe=K((a,c)=>{const{Component:h,getDividerProps:d}=Mt({...a});return u.jsx(h,{ref:c,...d()})});Fe.displayName="NextUI.Divider";var St=Fe,[Lt,Ie]=ot({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),ze=K((a,c)=>{var h;const{as:d,className:C,children:e,...w}=a,g=d||"div",x=ke(c),{slots:p,classNames:m}=Ie(),S=de(m==null?void 0:m.body,C);return u.jsx(g,{ref:x,className:(h=p.body)==null?void 0:h.call(p,{class:S}),...w,children:e})});ze.displayName="NextUI.CardBody";var Nt=ze,Re=K((a,c)=>{var h;const{as:d,className:C,children:e,...w}=a,g=d||"div",x=ke(c),{slots:p,classNames:m}=Ie(),S=de(m==null?void 0:m.header,C);return u.jsx(g,{ref:x,className:(h=p.header)==null?void 0:h.call(p,{class:S}),...w,children:e})});Re.displayName="NextUI.CardHeader";var Wt=Re;function Pt(a){const[c,h]=je(a,He.variantKeys),{ref:d,as:C,children:e,disableRipple:w=!1,onClick:g,onPress:x,autoFocus:p,className:m,classNames:S,allowTextSelectionOnPress:P=!0,...E}=c,j=ke(d),b=C||(a.isPressable?"button":"div"),L=typeof b=="string",Y=de(S==null?void 0:S.base,m),{onClick:fe,onClear:J,ripples:ee}=it(),te=A=>{!a.disableAnimation&&!w&&j.current&&fe(A)},{buttonProps:D,isPressed:B}=st({onPress:x,elementType:C,isDisabled:!a.isPressable,onClick:at(g,te),allowTextSelectionOnPress:P,...E},j),{hoverProps:re,isHovered:T}=lt({isDisabled:!a.isHoverable,...E}),{isFocusVisible:Z,isFocused:ue,focusProps:oe}=nt({autoFocus:p}),U=W.useMemo(()=>He({...h}),[...Object.values(h)]),ie=W.useMemo(()=>({isDisabled:a.isDisabled,isFooterBlurred:a.isFooterBlurred,disableAnimation:a.disableAnimation,fullWidth:a.fullWidth,slots:U,classNames:S}),[U,S,a.isDisabled,a.isFooterBlurred,a.disableAnimation,a.fullWidth]),se=W.useCallback((A={})=>({ref:j,className:U.base({class:Y}),tabIndex:a.isPressable?0:-1,"data-hover":$(T),"data-pressed":$(B),"data-focus":$(ue),"data-focus-visible":$(Z),"data-disabled":$(a.isDisabled),...dt(a.isPressable?{...D,...oe,role:"button"}:{},a.isHoverable?re:{},ve(E,{enabled:L}),ve(A))}),[j,U,Y,L,a.isPressable,a.isHoverable,a.isDisabled,T,B,Z,D,oe,re,E]),ce=W.useCallback(()=>({ripples:ee,onClear:J}),[ee,J]);return{context:ie,domRef:j,Component:b,classNames:S,children:e,isHovered:T,isPressed:B,isPressable:a.isPressable,isHoverable:a.isHoverable,disableAnimation:a.disableAnimation,disableRipple:w,handleClick:te,isFocusVisible:Z,getCardProps:se,getRippleProps:ce}}var De=K((a,c)=>{const{children:h,context:d,Component:C,isPressable:e,disableAnimation:w,disableRipple:g,getCardProps:x,getRippleProps:p}=Pt({...a,ref:c});return u.jsxs(C,{...x(),children:[u.jsx(Lt,{value:d,children:h}),e&&!w&&!g&&u.jsx(ft,{...p()})]})});De.displayName="NextUI.Card";var Et=De,At={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Oe=a=>{var c;return(c=At[a])!=null?c:a};function Ht(a){const[c,h]=je(a,Ae.variantKeys),{as:d,className:C,x:e=1,y:w=1,...g}=c,x=d||"span",p=W.useMemo(()=>Ae({...h,className:C}),[...Object.values(h),C]),m=Oe(e),S=Oe(w);return{Component:x,getSpacerProps:(E={})=>({...E,...g,"aria-hidden":$(!0),className:de(p,E.className),style:{...E.style,...g.style,marginLeft:m,marginTop:S}})}}var Be=K((a,c)=>{const{Component:h,getSpacerProps:d}=Ht({...a});return u.jsx(h,{ref:c,...d()})});Be.displayName="NextUI.Spacer";var Ot=Be;function jt({textBig:a,text:c,subText:h,image:d,link:C}){return u.jsxs(Et,{className:"py-4 border-1 border-white/30 bg-black/30",isPressable:!!C,onClick:()=>ge(C),children:[u.jsxs(Wt,{className:"pb-0 pt-0 px-4 block text-left",children:[c&&u.jsx("p",{className:"text-tiny uppercase font-bold truncate",title:c,children:c}),h&&u.jsx("small",{className:"block text-default-500 truncate",title:h,children:h}),a&&u.jsx("h4",{className:"font-bold text-small sm:text-large truncate",title:a,children:a})]}),u.jsx(Nt,{className:"overflow-visible py-2",children:d&&u.jsx(xe,{alt:"Card background",className:"object-cover rounded-xl",src:d,sizes:"100%"})})]})}function Ft(a,c,h,d,C){var e=this,w=1,g=null,x=null,p=null,m=null,S=[],P={},E=!1,j=!1,b=null,L=null;if(e.domNode=a,e.duration=c||0,e.peaks=h||[],e.markers=d||{},e.opt=C||{},e.canvas=null,e.floor=null,e.events=[],e.dragElement=null,e.dragMs=null,e.dragoffset={x:0,y:0},e._HOURSMS=36e5,e.lastStart=0,e.lastEnd=0,e.markerDef={in:{fill:"red",color:"white",y:5},mix:{fill:"yellow",color:"black",y:20},intro:{fill:"cyan",color:"black",y:35},outro:{fill:"blue",color:"white",y:50},prefade:{fill:"white",color:"black",y:65},ri:{fill:"fuchsia",color:"white",y:80},ro:{fill:"fuchsia",color:"white",y:95},out:{fill:"yellow",color:"black",y:110}},typeof e.domNode>"u")throw new Error("Dom node required");e.defaultOpt={backgroundColor:"#000",waveColor:"limegreen",lineBaseColor:"lime",width:800,height:200,timeline:!0,timelineBackgroundColor:"#333",timelineHeight:26,timelineTickerColor:"#777",timelineBorderColor:"#999",timelineTimeColor:"#ccc",cursorType:"line",cursorLineColor:"white",cursorFillColor:"black",cursorFillOpacity:.6,cursorTimeColor:"white",cursorTimeFontSize:"7pt",cursorTimeFontShadow:"0 0 3px #000",cursorTimeNegativeColor:"white",cursorLineWidth:1,showCursorTime:!0,markerLooked:!1,markerLineWidth:1,hideMarker:[],hideMarkerLabel:!1,intraMarker:!0,loadingText:"Loading...",loadingColor:"white",zoomWheel:!0,highRender:!1,blockRender:!1,volume:1,forceHideScroll:!1,locked:!1,showTimeOnMouse:!1,timeOnMouseFontSize:"7pt",timeOnMouseColor:"white",timeOnMouseOpacity:1,timeOnMouseBackgroundColor:"black",customMarkers:[],hideTimeMilliseconds:!1,showQuickTime:!1,quickTimeColor:"white",quickTimeTextShadow:"0px 0px 5px black",fontFamily:"sans-serif"};var Y=function(){for(var t in e.defaultOpt)e.opt.hasOwnProperty(t)||(e.opt[t]=e.defaultOpt[t])};Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)};var fe=function(){b=document.createElement("div"),b.style.position="absolute",b.style.color=e.opt.timeOnMouseColor,b.style.backgroundColor=e.opt.timeOnMouseBackgroundColor,b.style.fontSize=e.opt.timeOnMouseFontSize,b.style.padding="6px",b.style.margin=0,b.style.display="none",b.style.top=0,b.style.left=0,b.style.opacity=e.opt.timeOnMouseOpacity,b.style.zIndex=10,b.style.cursor="default",e.floor.appendChild(b)},J=function(){b&&(b.style.display="block")},ee=function(){b&&(b.style.display="none")},te=function(){e.opt.showQuickTime&&(L=document.createElement("div"),L.style.position="absolute",L.style.fontSize="10pt",L.style.fontFamily=e.opt.fontFamily,L.style.bottom="8px",L.style.left="8px",L.style.color=e.opt.quickTimeColor,L.style.textShadow=e.opt.quickTimeTextShadow,L.innerHTML="- / -",e.floor.appendChild(L))},D=function(){e.opt.cursorType!=="none"&&(g=document.createElement("div"),g.style.backgroundColor=e.opt.cursorLineColor,g.style.width=e.opt.cursorLineWidth+"px",g.style.height=e.floor.style.height,g.style.position="absolute",g.style.left=0,g.style.top=0,g.style.margin=0,g.style.zIndex=1,g.dataset.time=0,e.floor.appendChild(g),e.opt.cursorType==="linefill"&&(x=document.createElement("div"),x.style.width=e.floor.offsetWidth+"px",x.style.height=e.canvas.height+"px",x.style.margin=0,x.style.marginTop=e.canvas.style.marginTop?e.canvas.style.marginTop:0,x.style.backgroundColor=e.opt.cursorFillColor,x.style.opacity=e.opt.cursorFillOpacity,x.style.position="absolute",x.style.right=0,x.style.top=0,x.style.zIndex=0,e.floor.appendChild(x)),e.opt.showCursorTime&&(p=document.createElement("div"),p.style.width="70px",p.style.textAlign="left",p.style.height="20px",p.style.margin=0,p.style.marginTop=e.canvas.style.marginTop?e.canvas.style.marginTop:0,p.style.padding=0,p.style.paddingTop="2px",p.style.paddingLeft="3px",p.style.paddingRight="3px",p.style.position="absolute",p.style.right=0,p.style.top=0,p.style.zIndex=1,p.style.color=e.opt.cursorTimeColor,p.style.font=e.opt.cursorTimeFontSize+" "+e.opt.fontFamily,p.style.textShadow=e.opt.cursorTimeFontShadow,p.style.fontWeight="bold",e.floor.appendChild(p)))},B=function(){m=document.createElement("div"),m.style.position="absolute",m.style.width=e.floor.style.width,m.style.height=e.opt.timelineHeight+"px",m.style.backgroundColor=e.opt.timelineBackgroundColor,m.style.borderBottom="1px solid "+e.opt.timelineBorderColor,m.style.margin=0,m.style.left=0,m.style.top=0,m.style.overflow="hidden",m.style.boxSizing="border-box",e.floor.appendChild(m);for(var t=50,r=Math.round(e.floor.offsetWidth/t),o=e.duration>=e._HOURSMS?"HH:MM":"MM:SS",i=0;i<r;i++){var s=document.createElement("label");s.style.position="absolute",s.style.display="block",s.style.padding=0,s.style.margin=0,s.style.top="6px",s.style.width=t+"px",s.style.font="7pt courier",s.style.fontWeight="bold",s.style.color=e.opt.timelineTickerColor,s.style.textAlign="center",s.style.background="transparent",s.style.overflow="hidden",i+1<r&&(s.style.borderRight="1px solid "+e.opt.timelineTickerColor),s.style.boxSizing="border-box",s.innerHTML='<span style="margin: 0;padding: 0; display: block; color:'+e.opt.timelineTimeColor+'">'+F(z(i*t+t/2),o)+'</span><span style="display: block;padding: 0;margin:-3px 0 0 0; color:'+e.opt.timelineTickerColor+'">|</span>',s.style.left=m.lastChild?m.lastChild.offsetWidth*i+"px":"0px",m.appendChild(s)}var l=document.createElement("div");l.style.position="absolute",l.style.width=e.floor.style.width,l.style.height=e.opt.timelineHeight+"px",l.style.backgroundColor="transparent",l.style.border="none",l.style.margin=0,l.style.left=0,l.style.top=0,l.style.boxSizing="border-box",m.appendChild(l)},re=function(t,r){var o=t*e.canvas.offsetWidth/(r-t);m=document.createElement("div"),m.style.position="absolute",m.style.width=e.floor.style.width,m.style.height=e.opt.timelineHeight+"px",m.style.backgroundColor=e.opt.timelineBackgroundColor,m.style.borderBottom="1px solid "+e.opt.timelineBorderColor,m.style.margin=0,m.style.left=0,m.style.top=0,m.style.overflow="hidden",m.style.boxSizing="border-box",e.floor.appendChild(m);for(var i=50,s=Math.round(e.canvas.offsetWidth/i+3+o/i),l=e.duration>=e._HOURSMS?"HH:MM":"MM:SS",n=Math.round(o/i)-3,M=n;M<s;M++){var v=document.createElement("label");v.style.position="absolute",v.style.display="block",v.style.padding=0,v.style.margin=0,v.style.top="6px",v.style.width=i+"px",v.style.font="7pt courier",v.style.fontWeight="bold",v.style.color=e.opt.timelineTickerColor,v.style.textAlign="center",v.style.background="transparent",v.style.overflow="hidden",M+1<s&&(v.style.borderRight="1px solid "+e.opt.timelineTickerColor),v.style.boxSizing="border-box",v.innerHTML='<span style="margin: 0;padding: 0; display: block; color:'+e.opt.timelineTimeColor+'">'+F(z(M*i+i/2),l)+'</span><span style="display: block;padding: 0;margin:-3px 0 0 0; color:'+e.opt.timelineTickerColor+'">|</span>',v.style.left=m.lastChild?m.lastChild.offsetWidth*M+"px":n*i+"px",m.appendChild(v)}var k=document.createElement("div");k.style.position="absolute",k.style.width=e.floor.style.width,k.style.height=e.opt.timelineHeight+"px",k.style.backgroundColor="transparent",k.style.border="none",k.style.margin=0,k.style.left=0,k.style.top=0,k.style.boxSizing="border-box",m.appendChild(k)},T=function(t){return e.domNode.querySelector('[data-intra="'+t+'"]')},Z=function(){T("in")&&e.floor.removeChild(T("in")),T("mix")&&e.floor.removeChild(T("mix")),T("out")&&e.floor.removeChild(T("out")),T("ref")&&e.floor.removeChild(T("ref"))},ue=function(){var t=0;if(e.opt.timeline&&(t=m.offsetHeight+"px"),f("in",!0)){var r=document.createElement("div");r.style.position="absolute",r.style.margin=0,r.style.marginTop=t,r.style.padding=0,r.style.top=0,r.style.left=0,r.style.width=f("in").offsetLeft+"px",r.style.height=e.canvas.height+"px",r.style.background="#000",r.style.opacity=.7,r.dataset.intra="in",e.floor.appendChild(r)}if(f("mix",!0)&&f("out",!0)){var o=document.createElement("DIV");o.style.position="absolute",o.style.margin=0,o.style.marginTop=t,o.style.padding=0,o.style.top=0,o.style.left=f("mix").offsetLeft+"px",o.style.width=f("out").offsetLeft-f("mix").offsetLeft+"px",o.style.height=e.canvas.height+"px",o.style.background="linear-gradient(to right, transparent, black)",o.style.opacity=.7,o.dataset.intra="mix",e.floor.appendChild(o)}if(f("ri",!0)&&f("ro",!0)){var i=document.createElement("div");i.style.position="absolute",i.style.margin=0,i.style.marginTop=t,i.style.padding=0,i.style.top=0,i.style.left=f("ri").offsetLeft+"px",i.style.width=f("ro").offsetLeft-f("ri").offsetLeft+"px",i.style.height=e.canvas.height+"px",i.style.background=e.markerDef.ri.fill,i.style.opacity=.3,i.dataset.intra="ref",e.floor.appendChild(i)}if(f("out",!0)){var s=document.createElement("div");s.style.position="absolute",s.style.margin=0,s.style.marginTop=t,s.style.padding=0,s.style.top=0,s.style.left=f("out").offsetLeft+"px",s.style.width=e.floor.offsetWidth-f("out").offsetLeft+"px",s.style.height=e.canvas.height+"px",s.style.background="#000",s.style.opacity=.7,s.dataset.intra="out",s.style.zIndex=0,e.floor.appendChild(s)}},oe=function(){var t=0,r="",o="";if(e.opt.timeline&&(t=m.offsetHeight+"px"),f("mix",!0)&&f("out",!0)){r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.margin=0,r.style.marginTop=t,r.style.padding=0,r.style.position="absolute",r.style.top=0,r.style.left=f("mix").offsetLeft+"px",r.style.visibility=E?"hidden":"visible";var i=f("out").offsetLeft-f("mix").offsetLeft;r.setAttribute("width",i),r.setAttribute("height",e.canvas.height),e.floor.appendChild(r),o=document.createElementNS("http://www.w3.org/2000/svg","line"),o.setAttribute("x1",0),o.setAttribute("y1",0),o.setAttribute("x2",r.getAttribute("width")),o.setAttribute("y2",r.getAttribute("height")/2),o.style.stroke=e.markerDef.mix.fill,o.style.strokeWidth=1,r.appendChild(o),P.MIXOUT=r}f("prefade",!0)&&f("mix",!0)&&f("out",!0)&&(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.margin=0,r.style.marginTop=t,r.style.padding=0,r.style.position="absolute",r.style.top=0,r.style.left=f("prefade").offsetLeft+"px",r.style.visibility=j?"hidden":"visible",r.setAttribute("width",f("out").offsetLeft-f("prefade").offsetLeft),r.setAttribute("height",e.canvas.height),e.floor.appendChild(r),o=document.createElementNS("http://www.w3.org/2000/svg","line"),o.setAttribute("x1",0),o.setAttribute("y1",0),o.setAttribute("x2",r.getAttribute("width")),o.setAttribute("y2",r.getAttribute("height")/2),o.style.stroke=e.markerDef.prefade.fill,o.style.strokeWidth=1,r.appendChild(o),P.PREFADEOUT=r)},U=function(){for(var t in P)e.floor.removeChild(P[t]),delete P[t]};e.hideMixOutLine=function(){var t=P.MIXOUT;t&&(t.style.visibility="hidden",E=!0,e.fire("hideMixOutLine"))},e.showMixOutLine=function(){var t=P.MIXOUT;t&&(t.style.visibility="visible",E=!1,e.fire("hideIntraMarker"))},e.hidePrefadeOutLine=function(){var t=P.PREFADEOUT;t&&(t.style.visibility="hidden",j=!0)},e.showPrefadeOutLine=function(){var t=P.PREFADEOUT;t&&(t.style.visibility="visible",j=!1)};var ie=function(){var t=P.MIXOUT;if(t){var r=t.firstChild;t.style.left=f("mix").offsetLeft+"px";var o=f("out").offsetLeft-f("mix").offsetLeft;t.setAttribute("width",o),r.setAttribute("x1",0),r.setAttribute("y1",0),r.setAttribute("x2",t.getAttribute("width")),r.setAttribute("y2",t.getAttribute("height")/2)}},se=function(){var t=P.PREFADEOUT;if(t){var r=t.firstChild;t.style.left=f("prefade").offsetLeft+"px",t.setAttribute("width",f("out").offsetLeft-f("prefade").offsetLeft),r.setAttribute("x1",0),r.setAttribute("y1",0),r.setAttribute("x2",t.getAttribute("width")),r.setAttribute("y2",t.getAttribute("height")/2)}},ce=function(){e.domNode.style.backgroundColor=e.opt.backgroundColor,e.domNode.style.width=e.opt.width+"px",e.domNode.style.height=e.opt.height+"px",e.domNode.style.position="relative",e.domNode.style.overflowX="auto",e.domNode.style.overflowY="hidden",e.opt.highRender&&e.domNode.addEventListener("scroll",function(){_(),Le(),$e()})},A=function(){e.canvas=document.createElement("canvas"),e.canvas.width=e.domNode.offsetWidth,e.canvas.height=e.domNode.offsetHeight,e.floor=document.createElement("div"),e.floor.style.position="absolute",e.floor.style.width=e.domNode.offsetWidth+"px",e.floor.style.height=e.domNode.offsetHeight+"px",e.floor.style.margin=0,e.floor.style.padding=0,e.floor.style.background="transparent",e.floor.style.overflowY="hidden",e.domNode.appendChild(e.floor),e.domNode.appendChild(e.canvas),e.opt.timeline&&(e.canvas.height=e.canvas.height-e.opt.timelineHeight,e.canvas.style.marginTop=e.opt.timelineHeight+"px"),e.opt.showTimeOnMouse&&fe(),e.floor.addEventListener("mousedown",function(t){et(t,this)},!0),e.floor.addEventListener("mousemove",function(t){tt(t)},!0),e.floor.addEventListener("mouseenter",function(t){e.opt.showTimeOnMouse&&J()}),e.floor.addEventListener("mouseleave",function(t){e.opt.showTimeOnMouse&&ee()}),e.opt.zoomWheel&&e.floor.addEventListener("wheel",Ye)},qe=function(){if(e.opt.timeline&&B(),D(),X(),te(),!e.peaks||!Array.isArray(e.peaks)||!e.peaks.length)return;let t=e.peaks,r=t.filter((v,k)=>k%2===0),o=t.filter((v,k)=>k%2===1),i=[];for(let v=0;v<r.length;v++){let k=(-r[v]+o[v])/2;i.push(k)}let{height:s,width:l}=e.canvas.parentNode.getBoundingClientRect();e.canvas.width=l,e.canvas.height=s;let n=e.canvas.getContext("2d"),M=0;for(let v=3;v<l;v++)if(v%3===0){let k=Math.ceil(i.length*(v/l)),O=0;if(M<k){for(let R=M;R<k;R++)O+=i[R];O=O/(k-M)}else O=i[k];let I=Math.round(O*s)/2;n.fillStyle="orange",n.fillRect(v,s/2-I,2,I),n.fillRect(v,s/2+I,2,-I),M=k}},$e=function(){if(w=1,e.opt.forceHideScroll&&(e.domNode.style.overflowX="hidden",e.domNode.style.overflowY="hidden",e.floor.style.overflowX="hidden",e.floor.style.overflowY="hidden"),e.opt.timeline&&B(),D(),X(),!(!e.peaks||!Array.isArray(e.peaks)||!e.peaks.length)){var t=e.peaks.max(),r=e.canvas.getContext("2d"),o=e.canvas.height,i=e.canvas.width;r.fillStyle=e.opt.backgroundColor,r.fillRect(0,0,i,o),r.moveTo(0,o/2);for(var s=parseInt(e.domNode.scrollLeft),l=parseInt(s+e.domNode.offsetWidth),n=2,M=s;M<l;M++){n%2===0?(n=parseInt(M*(e.peaks.length/i)),n%2===0&&(n+=1)):(n=parseInt(M*(e.peaks.length/i)),n%2!==0&&(n+=1)),r.strokeStyle=e.opt.waveColor;var v=M,k=e.peaks[n]/t*o/(2.7/e.opt.volume)+o/2;r.lineTo(v,k)}r.lineTo(i,o/2),r.stroke(),r.beginPath(),r.lineWidth=1,r.strokeStyle=e.opt.lineBaseColor,r.moveTo(0,o/2),r.lineTo(i,o/2),r.stroke(),r.closePath(),setTimeout(function(){e.fire("drawWaveform",e.canvas)},0)}},pe=function(t,r,o){if(w=1,e.lastStart=t,e.lastEnd=r,e.opt.timeline&&re(t,r),o||(D(),X()),!(!e.peaks||!Array.isArray(e.peaks)||!e.peaks.length)){var i=e.peaks.max(),s=e.canvas.getContext("2d"),l=e.canvas.height,n=e.canvas.width;s.fillStyle=e.opt.backgroundColor,s.fillRect(0,0,n,l),s.moveTo(0,l/2),t=typeof t<"u"?t:parseInt(e.domNode.scrollLeft),r=typeof r<"u"?r:parseInt(t+e.domNode.offsetWidth);for(var M=e.peaks.length/n,v=e.peaks.length*(r-t)/(n*n),k=0,O,I,R,ne,Q,G,V=1;V<n;V+=2){O=0,I=0,Q=0,G=0;for(var q=Math.round(t*M+k*v);q<Math.round(t*M+V*v);q++)e.peaks[q]>0&&(O=O+e.peaks[q],Q++),e.peaks[q]<0&&(I=I+e.peaks[q],G++);G===0&&(G=1),Q===0&&(Q=1),s.strokeStyle=e.opt.waveColor,R=V-1,ne=-I/G/i*l/(2.3/e.opt.volume)+l/2,s.lineTo(R,ne),R=V,ne=-O/Q/i*l/(2.3/e.opt.volume)+l/2,s.lineTo(R,ne),k=V}s.lineTo(n,l/2),s.stroke(),s.beginPath(),s.lineWidth=1,s.strokeStyle=e.opt.lineBaseColor,s.moveTo(0,l/2),s.lineTo(n,l/2),s.stroke(),s.closePath(),setTimeout(function(){e.fire("drawWaveform",e.canvas)},0)}},H=function(){if(e.opt.forceHideScroll&&(e.domNode.style.overflowX="hidden",e.domNode.style.overflowY="hidden",e.floor.style.overflowX="hidden",e.floor.style.overflowY="hidden"),e.opt.blockRender)return qe();if(e.opt.highRender){pe(0,e.domNode.offsetWidth);return}if(w=1,e.opt.timeline&&B(),D(),X(),!(!e.peaks||!Array.isArray(e.peaks)||!e.peaks.length)){var t=e.peaks.max(),r=e.canvas.getContext("2d"),o=e.canvas.height,i=e.canvas.width;r.fillStyle=e.opt.backgroundColor,r.fillRect(0,0,i,o),r.moveTo(0,o/2);for(var s=0;s<e.peaks.length;s+=parseInt(e.peaks.length/i/2)*2+1){r.strokeStyle=e.opt.waveColor;var l=s/e.peaks.length*i,n=e.peaks[s]/t*o/(2.7/e.opt.volume)+o/2;r.lineTo(l,n)}r.lineTo(i,o/2),r.stroke(),r.beginPath(),r.lineWidth=1,r.strokeStyle=e.opt.lineBaseColor,r.moveTo(0,o/2),r.lineTo(i,o/2),r.stroke(),r.closePath(),setTimeout(function(){e.fire("drawWaveform",e.canvas)},0)}};e.getZoom=function(){return Math.round(e.floor.offsetWidth/e.domNode.offsetWidth*100)+"%"},e.zoomIn=function(t){var r=e.floor.offsetWidth,o=r*2;if(o>e.peaks.length)return!1;e.canvas.setAttribute("width",o),e.floor.style.width=o+"px",e.fire("zoomIn",o,r,e.getZoom()),e.fire("zoom",o,r,e.getZoom());var i=e.getCursorTime();_(),H(),e.setCursorTime(i),t==="cursor"&&(t=e.getCursorX()-e.domNode.offsetWidth/2),e.domNode.scrollLeft=typeof t<"u"?t:e.floor.offsetWidth/2-e.domNode.offsetWidth/2},e.zoomOut=function(t){var r=e.floor.offsetWidth,o=r/2;if(o<e.domNode.offsetWidth)return!1;e.canvas.setAttribute("width",o),e.floor.style.width=o+"px",e.fire("zoomOut",o,r,e.getZoom()),e.fire("zoom",o,r,e.getZoom());var i=e.getCursorTime();_(),H(),e.setCursorTime(i),t==="cursor"&&(t=e.getCursorX()-e.domNode.offsetWidth/2),e.domNode.scrollLeft=typeof t<"u"?t:e.floor.offsetWidth/2-e.domNode.offsetWidth/2};var Ye=function(t){var r;t.pageX=t.pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);var o=(t.clientX-e.domNode.getBoundingClientRect().left+e.domNode.scrollLeft)/e.floor.offsetWidth;t.deltaY*-1>0?(r=o*e.floor.offsetWidth*2-(t.clientX-e.domNode.getBoundingClientRect().left),e.zoomIn(r)):(r=o*e.floor.offsetWidth/2-(t.clientX-e.domNode.getBoundingClientRect().left),e.zoomOut(r))};e.on=function(t,r){e.events.push(t.toLowerCase(),r)},e.fire=function(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);for(var o=t[0].toLowerCase(),i=0;i<=e.events.length;i+=2)e.events[i]===o&&e.events[i+1].apply(e,t.slice(1)),e.events[i]==="catchall"&&e.events[i+1].apply(null,t)},e.setCursorTime=function(t){if(typeof g>"u"||g===null||t>=e.duration)return!1;var r=me(t);g.style.left=r+"px",g.dataset.time=t,x&&(x.style.width=e.floor.offsetWidth-r+"px"),L&&(L.innerHTML=F(t,e.duration>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm")+" / "+F(e.duration,e.duration>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm")),p&&(p.style.left=r+"px",p.innerHTML=F(t,e.duration>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm"),p.offsetWidth+r>e.floor.offsetWidth?(p.style.marginLeft=-p.offsetWidth+"px",p.style.textAlign="right",x&&(p.style.color=e.opt.cursorTimeNegativeColor)):(p.style.marginLeft=0,p.style.textAlign="left",x&&(p.style.color=e.opt.cursorTimeColor))),e.fire("cursorTimeChange",t,r);for(var o in e.markers)if(e.markers.hasOwnProperty(o)){var i=e.getMarkerPosition(o);t<=i&&S.indexOf(o)!==-1&&S.splice(S.indexOf(o),1),t>=i&&S.indexOf(o)===-1&&(S.push(o),e.fire("marker"+Se(o)+"trigger",e.markers[o]))}},e.getCursorTime=function(){return g===null||typeof g>"u"?!1:parseInt(g.dataset.time)},e.getCursorX=function(){return g===null||typeof g>"u"?!1:parseInt(g.style.left)};var F=function(t,r){var o=parseInt(t%1e3),i=parseInt(t/1e3%60),s=parseInt(t/(1e3*60)%60),l=parseInt(t/(1e3*60*60)%24);if(l=l<10?"0"+l:l,s=s<10?"0"+s:s,i=i<10?"0"+i:i,o.toString().length===2&&(o="0"+o),o.toString().length===1&&(o="00"+o),r!==null){var n=r.replace("HH",l);return n=n.replace("MM",s),n=n.replace("SS",i),e.opt.hideTimeMilliseconds?n=n.replace(".mmm",""):n=n.replace("mmm",o),n=n.replace("m",parseInt(o/100)),n}else return e.opt.hideTimeMilliseconds?l+":"+s+":"+i:l+":"+s+":"+i+"."+o},Ze=function(t,r){var o=me(r),i=null;if(!(typeof e.markerDef[t]>"u")){var s=e.markerDef[t];if(typeof s.y=="number")i=s.y;else switch(s.y){case"top":break;case"middle":i=e.canvas.height/2-8+"px";break}i=0,m!==null&&(i=i+parseInt(m.offsetHeight));var l=document.createElement("div");if(l.style.position="absolute",l.style.backgroundColor=s.fill,l.style.margin=0,l.style.top=i+"px",l.style.width=e.opt.markerLineWidth+"px",l.style.height=e.canvas.height+"px",l.style.font="7pt "+e.opt.fontFamily,l.style.fontWeight="bold",l.style.zIndex=++w,l.dataset.marker=t,l.dataset.ms=r,e.opt.hideMarker.indexOf(t)!==-1&&(l.style.visibility="hidden",l.dataset.hidden="true"),!e.opt.hideMarkerLabel){var n=document.createElement("div");n.style.position="absolute",n.style.padding="2px",n.style.backgroundColor=s.fill,n.style.color=s.color,n.style.margin=0,n.style.minWidth="45px",n.style.textAlign="center",n.innerHTML=t.toUpperCase(),n.title=t.toUpperCase(),n.style.top="0",n.dataset.markerLabel=t,p!==null&&(n.style.marginTop=p.style.height),l.appendChild(n),!e.opt.markerLooked&&!e.opt.locked?(n.style.cursor="e-resize",n.addEventListener("mousedown",Ge,!1),e.domNode.addEventListener("mouseup",Qe,!1)):n.style.cursor="default"}e.floor.appendChild(l),n&&(n.style.top=n.offsetHeight*Te().length+Te().length*2-n.offsetHeight+"px",l.offsetWidth+o>e.floor.offsetWidth&&(n.style.marginLeft=-l.offsetWidth+"px")),e.setMarkerPosition(t,r)}},X=function(){for(var t in e.markers)e.markers.hasOwnProperty(t)&&Ze(t,e.markers[t]);e.opt.intraMarker&&ue(),oe()},Ce=function(){for(var t in e.markers)e.floor.removeChild(f(t));Z(),U()};e.getMarkers=function(){return e.markers},e.setPeaks=function(t){e.peaks=t,Ne()},e.getPeaks=function(){return e.peaks},e.setMarkers=function(t){e.markers=t,_(),H()},e.setMarkerPosition=function(t,r){r>e.duration&&(r=e.duration),r<=0&&(r=0);var o=f(t);if(o===null)return!1;switch(t){case"in":if(r>=e.markers.intro&&y("intro",r),r>=e.markers.outro&&y("outro",r),r>=e.markers.prefade&&y("prefade",r),r>=e.markers.ri&&y("ri",r),r>=e.markers.ro&&y("ro",r),r>=e.markers.mix)return y("in",e.markers.mix),y("intro",e.markers.mix),y("outro",e.markers.mix),y("prefade",e.markers.mix),y("ri",e.markers.mix),y("ro",e.markers.mix),N(o),!1;break;case"intro":if(r<=e.markers.in)return y("intro",e.markers.in),N(o),!1;if(r>=e.markers.outro&&y("outro",r),r>=e.markers.mix)return y("intro",e.markers.mix),y("outro",e.markers.mix),N(o),!1;break;case"outro":if(r>=e.markers.mix)return y("outro",e.markers.mix),N(o),!1;if(r<=e.markers.intro&&y("intro",r),r<=e.markers.in)return y("intro",e.markers.in),y("outro",e.markers.in),N(o),!1;break;case"ri":if(r<=e.markers.in)return y("ri",e.markers.in),N(o),!1;if(r>=e.markers.ro&&y("ro",r),r>=e.markers.mix)return y("ri",e.markers.mix),y("ro",e.markers.mix),N(o),!1;break;case"ro":if(r>=e.markers.mix)return y("ro",e.markers.mix),N(o),!1;if(r<=e.markers.ri&&y("ri",r),r<=e.markers.in)return y("ri",e.markers.in),y("ro",e.markers.in),N(o),!1;break;case"prefade":if(r>=e.markers.mix)return y("prefade",e.markers.mix),N(o),!1;if(r<=e.markers.in)return y("prefade",e.markers.in),N(o),!1;break;case"mix":if(r<=e.markers.intro&&y("intro",r),r<=e.markers.outro&&y("outro",r),r<=e.markers.prefade&&y("prefade",r),r<=e.markers.ri&&y("ri",r),r<=e.markers.ro&&y("ro",r),r<=e.markers.in)return y("mix",e.markers.in),y("intro",e.markers.in),y("outro",e.markers.in),y("prefade",e.markers.in),y("ri",e.markers.in),y("ro",e.markers.in),N(o),!1;if(r>=e.markers.out)return y("mix",e.markers.out),N(o),!1;break;case"out":if((r>=e.duration||f("out").offsetLeft+f("out").offsetWidth>=e.floor.offsetWidth)&&(r-=z(e.opt.markerLineWidth)),r<=e.markers.mix)return y("out",e.markers.mix),N(o),!1;break}y(t,r)},e.setMarkerPositionStep=function(t,r,o){var i=e.getMarkerPosition(t);r==="+"?i+=o:i-=o,e.setMarkerPosition(t,i)};var me=function(t){var r=t*100/e.duration;return parseInt(r*e.floor.offsetWidth/100)},z=function(t){var r=t*100/e.floor.offsetWidth;return parseInt(r*e.duration/100)},f=function(t,r){return r?e.domNode.querySelector('[data-marker="'+t+'"]:not([data-hidden="true"])'):e.domNode.querySelector('[data-marker="'+t+'"]')},Te=function(t){return t?e.domNode.querySelectorAll("[data-marker])"):e.domNode.querySelectorAll('[data-marker]:not([data-hidden="true"])')},he=function(t){return t.getElementsByTagName("div")[0]};e.getMarkerPosition=function(t){return e.markers[t]};var y=function(t,r){if(r>e.duration||r<0)return!1;var o=f(t);if(o===null)return!1;var i=he(o),s=me(r);o.style.left=s+"px",e.opt.hideMarkerLabel||(i.style.marginLeft=0,i.title=t.toUpperCase()+": "+F(r,r>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm"),o.offsetWidth+i.offsetWidth+s>e.floor.offsetWidth&&(i.style.marginLeft=-i.offsetWidth+"px")),e.markers[t]!==r&&(r=Math.round(r),e.markers[t]=r,o.dataset.ms=r,e.fire("marker"+Se(t)+"Change",e.markers[t])),e.fire("markersChange",e.markers)},Me=function(t){var r=e.dragElement;document.selection?document.selection.empty():window.getSelection().removeAllRanges(),t.pageX=t.pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);var o=t.pageX-e.dragoffset.x,i=z(o);if(i>=e.duration||i<=0)return!1;var s=r.dataset.marker;s==="out"&&i+z(e.opt.markerLineWidth)>=e.duration&&(i=e.duration-z(e.opt.markerLineWidth)),he(r).innerHTML=F(i,i>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm"),e.setMarkerPosition(s,i)},Qe=function(){if(!(!e.dragElement||e.opt.locked)){N(e.dragElement);var t=e.dragElement.dataset.marker;e.fire("markerMouseUp",t,e.markers[t]),e.dragElement=null,e.domNode.removeEventListener("mousemove",Me,!0)}},Ge=function(t){if(!e.opt.locked){var r=this.parentNode;e.dragElement=r,e.dragElement.style.zIndex=++w,t.pageX=t.pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t.pageY=t.pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),e.dragoffset.x=t.pageX-r.offsetLeft,e.dragoffset.y=t.pageY-r.offsetTop,e.domNode.addEventListener("mousemove",Me,!0);var o=e.dragElement.dataset.marker;e.fire("markerMouseDown",o,e.markers[o])}},Se=function(t){return t.replace(/\w\S*/g,function(r){return r.charAt(0).toUpperCase()+r.substr(1).toLowerCase()})},N=function(t){e.opt.hideMarkerLabel||(he(t).innerHTML=t.dataset.marker.toUpperCase())},Ke=function(){for(;e.domNode.firstChild;)e.domNode.removeChild(e.domNode.firstChild)},_=function(){for(;e.floor.firstChild;)e.floor.removeChild(e.floor.firstChild)},Le=function(){e.canvas.getContext("2d").clearRect(0,0,e.canvas.width,e.canvas.height)},ae=function(){Ke()},Ne=function(){ae(),A(),H()};e.redraw=function(){Ne()},e.clear=function(){ae()},e.drawPart=function(t,r){ae(),A(),e.domNode.style.overflowX="hidden",e.domNode.style.overflowY="hidden",e.floor.style.overflowX="hidden",e.floor.style.overflowY="hidden",e.floor.style.width=e.canvas.offsetWidth*e.canvas.offsetWidth/(r-t)+"px",e.floor.style.left=-(e.canvas.offsetWidth*t)/(r-t)+"px",pe(t,r)},e.redrawWave=function(){Le(),pe(e.lastStart,e.lastEnd,!0)};var Je=function(){Y(),ce(),typeof e.peaks=="string"?(Pe(),We(e.peaks,function(t){t?(le(),e.peaks=t,e.fire("peaksLoaded",t),A(),H()):le()})):(A(),H(),e.fire("peaksLoaded",e.peaks))},We=function(t,r){var o=new XMLHttpRequest;o.open("GET",t),o.onreadystatechange=function(){o.readyState===4&&(o.status===200?r(JSON.parse(o.responseText)):r(!1))},o.send()};e.draw=function(t,r,o,i){e.duration=t||0,e.peaks=r||[],e.markers=o||{},typeof i=="object"&&(e.opt=i),ae(),Y(),typeof e.peaks=="string"?(Pe(),We(e.peaks,function(s){s?(le(),e.peaks=s,e.fire("peaksLoaded",s),A(),H()):le()})):(A(),H(),e.fire("peaksLoaded",e.peaks))},e.isHideMarker=function(t){return!!e.opt.hideMarker.indexOf(t)},e.hideMarker=function(t){typeof t=="string"&&(t=[t]);for(var r in t)e.opt.hideMarker.indexOf(t[r])===-1&&e.opt.hideMarker.push(t[r]);Ce(),X(),e.fire("hideMarker",t)},e.showMarker=function(t){typeof t=="string"&&(t=[t]);for(var r in t)t.hasOwnProperty(r)&&e.opt.hideMarker.indexOf(t[r])!==-1&&e.opt.hideMarker.splice(e.opt.hideMarker.indexOf(t[r]),1);Ce(),X(),e.fire("showMarker",t)},e.hideIntraMarker=function(){e.opt.intraMarker=!1,_(),H(),e.fire("hideIntraMarker")},e.showIntraMarker=function(){e.opt.intraMarker=!0,_(),H(),e.fire("showIntraMarker")},e.setLocked=function(t){e.opt.locked=t,t?e.fire("locked"):e.fire("unlocked")},e.toggleLock=function(){var t=!e.opt.locked;return e.setLocked(t),t};var le=function(){e.domNode.querySelector('[data-loading="true"]')&&e.domNode.removeChild(e.domNode.querySelector('[data-loading="true"]'))},Pe=function(){var t=document.createElement("div");t.style.position="absolute",t.style.margin=0,t.style.padding=0,t.style.top=0,t.style.left=0,t.style.width=e.domNode.style.width,t.style.height=e.domNode.style.height,t.style.textAlign="center",t.style.font="9pt "+e.opt.fontFamily,t.style.lineHeight=e.domNode.style.height,t.style.color=e.opt.loadingColor,t.style.zIndex=99999999,t.dataset.loading=!0,t.innerHTML=e.opt.loadingText,e.domNode.appendChild(t)},et=function(t,r){if(e.opt.locked)return!1;var o;if(typeof t.target.dataset<"u"&&typeof t.target.dataset.markerLabel<"u")return!1;t.target!==r?o=t.clientX-t.target.parentNode.getBoundingClientRect().left:o=t.clientX-t.target.getBoundingClientRect().left;var i=z(o),s=F(i,i>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm");i=Math.round(i),e.fire("waveformClick",i,s,o)},tt=function(t){var r;r=t.clientX-e.floor.getBoundingClientRect().left;var o=z(r),i=F(o,o>=e._HOURSMS?"HH:MM:SS":"MM:SS.mmm");o=Math.round(o),e.fire("waveformMouseMove",o,i,r)};e.on("markerInChange",function(t){if(T("in")){var r=T("in");r.style.left=0,r.style.width=f("in").offsetLeft+"px"}}),e.on("markerOutChange",function(t){if(T("out")){var r=T("out");r.style.left=f("out").offsetLeft+"px",r.style.width=e.floor.offsetWidth-f("out").offsetLeft+"px"}if(T("mix")){var o=T("mix");o.style.left=f("mix").offsetLeft+"px",o.style.width=f("out").offsetLeft-f("mix").offsetLeft+"px"}ie(),se()}),e.on("markerMixChange",function(t){if(T("mix")){var r=T("mix");r.style.left=f("mix").offsetLeft+"px",r.style.width=f("out").offsetLeft-f("mix").offsetLeft+"px"}ie()}),e.on("markerPrefadeChange",function(t){se()}),e.on("markerRoChange",function(t){if(T("ref")){var r=T("ref");r.style.left=f("ri").offsetLeft+"px",r.style.width=f("ro").offsetLeft-f("ri").offsetLeft+"px"}}),e.on("markerRiChange",function(t){if(T("ref")){var r=T("ref");r.style.left=f("ri").offsetLeft+"px",r.style.width=f("ro").offsetLeft-f("ri").offsetLeft+"px"}}),e.on("waveformMouseMove",function(t,r,o){if(e.opt.showTimeOnMouse){b.innerHTML=r;var i=b.offsetWidth/2,s=o-i>0,l=i+o<e.floor.offsetWidth;b.style.marginLeft=-i+"px",s&&l?b.style.left=o+"px":s?l||(b.style.left=e.floor.offsetWidth-i+"px"):b.style.left=i+"px"}}),Je()}function It(a={}){if(!a.container)return;let c=new Ft(a.container,a.duration,a.peaks,null,{width:a.container.offsetWidth,height:96,cursorType:"linefill",cursorLineColor:"rgba(255,255,255,.4)",cursorFillColor:"black",cursorFillOpacity:.05,cursorTimeColor:"black",cursorTimeFontSize:"9pt",cursorTimeFontShadow:"0 0 3px #ccc",cursorTimeNegativeColor:"black",cursorLineWidth:2,hideMarker:["prefade","outro","ri","ro"],intraMarker:!0,waveColor:"orange",lineBaseColor:"#blue",backgroundColor:"transparent",timelineBackgroundColor:"#fff",timelineTickerColor:"#555",timelineTimeColor:"#ccc",timelineBorderColor:"#fff",timeline:!1,showCursorTime:!1,showTimeOnMouse:!0,zoomWheel:!1,blockRender:!0,hideTimeMilliseconds:!0,fontFamily:"monospace",showQuickTime:!0});return c.on("waveformClick",h=>{a.player.seek(h/1e3)}),c}function zt(a){a&&(a.domNode.style.cssText="",a.domNode.innerHTML="")}function Ue({episode:a}){let c=ut(a);const h=W.useRef(null),d=W.useRef(null);function C(){d.current=It({container:h.current,player:c,peaks:a.wavePoints,duration:a.duration}),d.current.setCursorTime(c.currentTime*1e3)}if(W.useEffect(()=>{d.current||(C(),window.addEventListener("resize",()=>{zt(d.current),C()}))},[h]),W.useEffect(()=>{d.current.setCursorTime&&c.playing&&d.current.setCursorTime(c.currentTime*1e3)},[c]),!!a)return u.jsx("div",{className:"h-24",ref:h})}Ue.propTypes={episode:we.object};function Xe({episode:a}){return u.jsxs("div",{className:"flex items-center mt-6 sm:mt-0 space-x-4",children:[u.jsx(ct,{episode:a,size:"lg"}),u.jsx("div",{className:"flex-1 flex-shrink-0",children:u.jsx(Ue,{episode:a})})]})}Xe.propTypes={episode:we.object};function _e({episode:a}){const[c,h]=W.useState(!1);return W.useEffect(()=>{h(!0)},[]),a.contentType==="video"?c?u.jsx(pt,{episode:a,isPrimary:!0}):null:u.jsx(Xe,{episode:a})}_e.propTypes={episode:we.object};function Ve(a){const{page:c,routeParams:h,episode:d,onDemandSeries:C}=a,{setBackdropImage:e}=W.useContext(mt);return W.useEffect(()=>(e(d.episodeImageUrl||d.seriesImageUrl),()=>{e(null)}),[]),u.jsxs("div",{className:"mx-auto w-full max-w-7xl p-6 sm:p-0 _lg:pt-6",children:[u.jsxs(xt,{className:"mb-8",children:[u.jsx(ye,{onPress:()=>ge("/"+c.slug),children:c.title}),u.jsx(ye,{onPress:()=>ge(Ee({pageSlug:c.slug,seriesDerivatePermalink:d.seriesDerivatePermalink})),children:d.seriesTitle}),u.jsx(ye,{children:d.episodeTitle})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex mb-6 items-center",children:[d.contentType==="audio"&&u.jsx(xe,{className:"hidden sm:block object-cover object-center border-1 border-white/30 mr-6 sm:h-48 sm:w-48",alt:d.episodeTitle||d.originalFileName,src:d.episodeImageUrl||d.seriesImageUrl||c.logo}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center mb-6 sm:mb-0 sm:block",children:[d.contentType==="audio"&&u.jsx(xe,{className:"block sm:hidden object-cover object-center border-1 border-white/30 mr-6 h-24 w-24",alt:d.episodeTitle||d.originalFileName,src:d.episodeImageUrl||d.seriesImageUrl||c.logo}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl sm:text-3xl text-white font-semibold",children:d.episodeTitle||d.originalFileName}),u.jsx(kt,{item:d,children:u.jsx("h2",{className:"text-small text-white sm:text-base",children:d.seriesTitle})})]})]}),u.jsx(bt,{page:c,routeParams:h,children:u.jsx("div",{className:"space-x-4 sm:space-x-2",children:u.jsx(wt,{enableEmbed:!0,enableFeed:!0})})})]})]}),u.jsx(_e,{episode:d})]}),(d.episodeDescription||d.episodeSubTitle)&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"text-white mb-12",children:[u.jsx("h1",{className:"text-base sm:text-xl font-semibold mb-4",children:"Descrizione"}),u.jsx("h2",{className:"text-base",children:d.episodeDescription||d.episodeSubTitle})]})}),u.jsx(St,{}),u.jsx(Ot,{y:"10"}),u.jsx("div",{className:"text-white text-base sm:text-xl font-semibold mb-4",children:"Potrebbe interessarti anche"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:C.map(w=>w.id!==d.seriesId?u.jsx(jt,{link:Ee({pageSlug:h.pageSlug,seriesDerivatePermalink:w.seriesDerivatePermalink}),textBig:w.title,subText:"Episodi "+w.episodesCount,image:w.imageUrl},w.id):null)})]})}Ve.metaTags=a=>{const{page:c,episode:h}=a;return{title:h.episodeTitle,description:h.episodeDescription,ogImage:h.episodeImageUrl}};const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),qt=[{configName:"onRenderClient",importPath:"/renderer/+onRenderClient.jsx",isValueFile:!0,exportValues:ht},{configName:"onHydrationEnd",importPath:"/dist/client/assets/entries/renderer_default.page.client.fd21443c.js",isValueFile:!1,exportValue:yt,exportName:"onHydrationEnd"},{configName:"onPageTransitionStart",importPath:"/dist/client/assets/entries/renderer_default.page.client.fd21443c.js",isValueFile:!1,exportValue:vt,exportName:"onPageTransitionStart"},{configName:"onPageTransitionEnd",importPath:"/dist/client/assets/entries/renderer_default.page.client.fd21443c.js",isValueFile:!1,exportValue:gt,exportName:"onPageTransitionEnd"},{configName:"Page",importPath:"/pages/profile/episodes/episode/+Page.jsx",isValueFile:!0,exportValues:Rt}],$t={onBeforeRenderEnv:{definedAt:{isComputed:!0},valueSerialized:'{"server":true}'},hydrationCanBeAborted:{definedAt:{filePathToShowToUser:"/renderer/+config.h.js",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:"true"},prefetchStaticAssets:{definedAt:{filePathToShowToUser:"/renderer/+config.h.js",fileExportPathToShowToUser:["default","prefetchStaticAssets"]},valueSerialized:'"viewport"'}};export{qt as configValuesImported,$t as configValuesSerialized};
